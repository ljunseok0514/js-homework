<!DOCTYPE html>
<html>
  <head>
    <title>Login Form</title>
    <style>
      .is--invalid {
        border: 2px solid red;
      }
    </style>
  </head>
  <body>
    <h1>Login Form</h1>
    <form id="loginForm">
      <div>
        <label for="email">Email:</label>
        <input type="text" id="email" name="email" required>
      </div>
      <div>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>
      </div>
      <div>
        <button type="submit">Login</button>
      </div>
    </form>

    <script>
      function emailReg(text) {
        const re =
          /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(text).toLowerCase());
      }

      function pwReg(text) {
        const re = /^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^*+=-]).{6,16}$/;
        return re.test(String(text));
      }

      function validateEmail(inputNode) {
        const email = inputNode.value;
        const isValid = emailReg(email);
        if (isValid) {
          inputNode.classList.remove("is--invalid");
        } else {
          inputNode.classList.add("is--invalid");
        }
      }

      function validatePassword(inputNode) {
        const password = inputNode.value;
        const isValid = pwReg(password);
        if (isValid) {
          inputNode.classList.remove("is--invalid");
        } else {
          inputNode.classList.add("is--invalid");
        }
      }

      function handleLogin(event) {
        event.preventDefault();
        const emailInput = document.getElementById("email");
        const passwordInput = document.getElementById("password");

        const email = emailInput.value;
        const password = passwordInput.value;

        const isValidEmail = emailReg(email);
        const isValidPassword = pwReg(password);

        if (isValidEmail && isValidPassword) {
          // 유효한 이메일과 비밀번호가 제출되면 로그인 성공 메시지를 출력
          alert("로그인 성공!");
          // 여기에 로그인 성공 후의 추가 동작을 구현하세요.
          window.location.href = "welcome.html";
        } else {
          // 유효하지 않은 이메일 또는 비밀번호가 제출되면 오류 메시지를 출력
          alert("유효하지 않은 이메일 또는 비밀번호입니다.");
        }
      }

      // 폼 제출 시 로그인 처리 함수를 호출
      const loginForm = document.getElementById("loginForm");
      loginForm.addEventListener("submit", handleLogin);

      // 이메일 입력 필드 변화 시 이메일 유효성 검사 함수를 호출
      const emailInput = document.getElementById("email");
      emailInput.addEventListener("input", function() {
        validateEmail(this);
      });

      // 비밀번호 입력 필드 변화 시 비밀번호 유효성 검사 함수를 호출
      const passwordInput = document.getElementById("password");
      passwordInput.addEventListener("input", function() {
        validatePassword(this);
      });
    </script>
  </body>
</html>
